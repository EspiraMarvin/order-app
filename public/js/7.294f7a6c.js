(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"46a9":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[i("q-card",{staticClass:"q-pa-md q-ma-md",attrs:{elevated:""}},[i("q-table",{attrs:{title:"Products List",data:t.productsResult.data,columns:t.tableHeaders,"row-key":"id",loading:t.loadingProducts,filter:t.pagination.filter,pagination:t.pagination,"hide-bottom":""},on:{"update:pagination":function(e){t.pagination=e},request:t.onRequest},scopedSlots:t._u([{key:"header",fn:function(e){return[i("q-tr",{attrs:{props:e}},t._l(e.cols,(function(r){return i("q-th",{key:r.name,staticClass:"text-capitalize text-black",attrs:{props:e}},[t._v("\n            "+t._s(r.label)+"\n          ")])})),1)]}},{key:"loading",fn:function(){return[i("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"top-right",fn:function(){return[t._e(),i("q-btn",{staticClass:"q-mr-sm text-black q-pl-md q-pr-md",attrs:{label:"Add Product",color:"gray"},on:{click:t.buttonCreate}})]},proxy:!0},{key:"body",fn:function(e){return[i("q-tr",{attrs:{props:e}},[t._l(e.cols,(function(r){return["actions"!==r.name?i("q-td",{key:r.name,staticClass:"text-center"},[t._v("\n              "+t._s(e.row[r.name])+"\n            ")]):t._e(),"actions"===r.name?i("q-td",{key:r.name,attrs:{align:"center"}},[i("q-btn",{staticClass:"q-ma-xs",attrs:{outline:"",color:"secondary",icon:"visibility"},on:{click:function(i){return t.buttonView(e.row)}}}),i("q-btn",{staticClass:"q-ma-xs",attrs:{outline:"",color:"positive",icon:"edit"},on:{click:function(i){return t.buttonEdit(e.row)}}}),i("q-btn",{staticClass:"q-ma-xs",attrs:{outline:"",color:"negative",icon:"delete"},on:{click:function(i){return t.buttonDelete(e.row)}}})],1):t._e()]}))],2)]}}])}),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8 q-pa-md float-right"},[i("q-pagination",{staticClass:"float-right",attrs:{max:t.pagination.last_page,"direction-links":"","boundary-links":"","max-pages":1,ellipses:!0},on:{input:t.onPageChange},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1),i("div",{staticClass:"col-md-4 q-pa-md"},[i("span",{staticClass:"q-pt-xl-lg"},[t._v("Total Records: "+t._s(t.pagination.rowsNumber)+" ")])])])],1),i("q-dialog",{attrs:{"transition-show":"rotate","transition-hide":"rotate",persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"warning",color:"white","text-color":"red"}}),i("span",{staticClass:"q-ml-sm"},[t._v("This Action Deletes User. Proceed? ")])],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),i("q-btn",{attrs:{flat:"",label:"Delete",color:"red"},on:{click:t.proceedDelete}})],1)],1)],1),i("q-dialog",{model:{value:t.createEditProductDialog,callback:function(e){t.createEditProductDialog=e},expression:"createEditProductDialog"}},[i("q-card",{staticStyle:{width:"400px","max-width":"80vw"}},[i("q-toolbar",[i("q-toolbar-title",[t._v(t._s(t.dialogTitle))])],1),i("hr"),i("q-card-section",{staticClass:"q-pt-none"},[i("q-form",{ref:"productForm"},[i("q-input",{attrs:{filled:"",label:"Name *",type:"text",disable:t.viewing,"lazy-rules":"",rules:[function(t){return t&&t.length>0||"Name Required"}]},model:{value:t.productForm.name,callback:function(e){t.$set(t.productForm,"name",e)},expression:"productForm.name"}}),i("q-input",{attrs:{filled:"",label:"Description *",type:"text",disable:t.viewing,"lazy-rules":"",rules:[function(t){return t&&t.length>0||"Description Required"}]},model:{value:t.productForm.description,callback:function(e){t.$set(t.productForm,"description",e)},expression:"productForm.description"}}),i("q-input",{attrs:{filled:"",label:"Quantity *",type:"text",disable:t.viewing,"lazy-rules":"",rules:[function(t){return t&&t.length>0||"Quantity Required"}]},model:{value:t.productForm.quantity,callback:function(e){t.$set(t.productForm,"quantity",e)},expression:"productForm.quantity"}})],1)],1),i("q-card-actions",{directives:[{name:"show",rawName:"v-show",value:!t.viewing,expression:"!viewing"}],staticClass:"bg-white",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pl-md q-pr-md q-mr-md",attrs:{label:"Close"}}),i("q-btn",{staticClass:"q-pl-md q-pr-md q-mr-md",attrs:{label:"Save",outline:"",color:"primary",loading:t.addingProduct,disable:t.addingProduct},on:{click:t.btnSave},scopedSlots:t._u([{key:"loading",fn:function(){return[i("q-spinner-facebook")]},proxy:!0}])})],1)],1)],1)],1)},o=[],n=(i("8e6e"),i("8a81"),i("7f7f"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c47a")),a=i.n(n),s=i("2f62"),c=i("781e"),l=i("2ef0");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={name:"Products",mixins:[c["a"]],created:function(){this.$store.dispatch("FETCH_PRODUCTS",this.pagination)},data:function(){return{productForm:{id:"",name:"",description:"",quantity:""},filter:"",selected:[],confirm:!1,createEditProductDialog:!1,deleteId:"",editing:!1,viewing:!1,dialogTitle:"",pagination:{sortBy:"",descending:!1,page:1,rowsPerPage:10,rowsNumber:10,filter:"",last_page:1}}},computed:u({},Object(s["c"])({loadingProducts:"GET_FETCHING_PRODUCTS",productsResult:"GET_PRODUCTS",addingProduct:"GET_ADDING_PRODUCT"}),{tableHeaders:function(){var t=this,e=[];if(this.productsResult.data&&this.productsResult.data.length){var i=this.productsResult.data[0],r=Object.keys(i);r.map((function(i){if("relationships"!==i&&"type"!==i){var r={name:i,sortable:!0,label:t.formatString(i),field:i,headerClasses:"bg-grey-3",align:"center"};e.push(r)}})),e.push({name:"actions",sortable:!1,label:"Actions",field:"actions",headerClasses:"bg-grey-3",align:"center"})}return e}}),methods:u({},Object(s["b"])({addProduct:"ADD_PRODUCT",deleteProduct:"DELETE_PRODUCT",editProduct:"EDIT_PRODUCT"}),{onPageChange:function(t){this.pagination.page=t,this.$store.dispatch("FETCH_PRODUCTS",this.pagination)},onRequest:function(t){t.filter&&(t.pagination.filter=t.filter,this.$store.dispatch("FETCH_PRODUCTS",t.pagination))},buttonCreate:function(){this.editing=!1,this.viewing=!1,this.createEditProductDialog=!0,this.dialogTitle="Create Product"},buttonEdit:function(t){var e=Object(l["cloneDeep"])(t);this.viewing=!1,this.editing=!0,this.productForm.id=e.id,this.productForm.name=e.name,this.productForm.description=e.description,this.productForm.quantity=e.quantity,this.createEditProductDialog=!0,this.dialogTitle="Edit Product"},buttonView:function(t){this.viewing=!0,this.productForm.name=t.name,this.productForm.description=t.description,this.productForm.quantity=t.quantity,this.createEditProductDialog=!0,this.dialogTitle="View Product"},buttonDelete:function(t){this.confirm=!0,this.deleteId=t.id},proceedDelete:function(){this.confirm=!1,this.deleteProduct(this.deleteId)},btnSave:function(){var t=this;this.$refs.productForm.validate().then((function(e){e?t.editing?t.editProduct(t.productForm):t.addProduct(t.productForm):t.orderNotify("negative","Please fill all required fields *","top")}))}}),watch:{addingProduct:{handler:function(){this.addingProduct||(this.createEditProductDialog=!1)}},productsResult:{deep:!0,handler:function(){this.productsResult.hasOwnProperty("meta")&&(this.pagination.page=this.productsResult.meta.current_page,this.pagination.rowsPerPage=this.productsResult.meta.per_page,this.pagination.rowsNumber=this.productsResult.meta.total,this.pagination.last_page=this.productsResult.meta.last_page)}}}},f=p,g=i("2877"),m=Object(g["a"])(f,r,o,!1,null,"7a57f8cb",null);e["default"]=m.exports},"781e":function(t,e,i){"use strict";i("8e6e"),i("8a81"),i("456d"),i("ac6a"),i("cadf"),i("06db"),i("ffc1"),i("a481");var r=i("c47a"),o=i.n(r),n=i("2f62");function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={created:function(){},data:function(){return{}},computed:s({},Object(n["c"])({notification:"GET_NOTIFICATION",errors:"GET_ERRORS"})),methods:{orderNotify:function(t,e,i){this.$q.notify({color:t,message:e,position:i})},formatString:function(t){return t.replace(/_/g," ")},OrderNotifyType:function(t,e,i){this.$q.notify({type:t,message:e,position:i})},goHome:function(){this.$router.push("/home")}},mounted:function(){},watch:{notification:{deep:!0,handler:function(){0!==Object.entries(this.notification).length&&this.notification.constructor===Object&&(this.$q.notify(this.notification),this.$store.commit("SET_NOTIFICATION",{}))}},errors:{deep:!0,handler:function(){var t=this;0!==this.errors.length&&(this.errors.forEach((function(e){t.OrderNotifyType("negative",e,"top")})),this.$store.commit("SET_ERRORS",[]))}}}};e["a"]=c}}]);